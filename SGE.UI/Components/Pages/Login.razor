@rendermode InteractiveServer
@inject CasoDeUsoLogin CasoDeUsoLogin
@inject NavigationManager Navigation
<h3>Login</h3>

<input placeholder="Email" @bind="em" /><br>
<input placeholder="Contraseña" @bind="pw" /><br>
<button @onclick="iniciar">Iniciar</button>

@Error

@code {
    Usuario user = new Usuario();

    string? em;
    string? pw;
    
    string Error = "";

    public void iniciar()
    {
        try 
        {
            user = CasoDeUsoLogin.Ejecutar(em, pw);
            Navigation.NavigateTo($"/home/{user.Id}");
        }
        catch (Exception e)
        {
            Error = "Email o contraseña invalidos";
            StateHasChanged();
        }
    }

}
