@rendermode InteractiveServer
@inject CasoDeUsoLogin CasoLogin
@inject NavigationManager Navigation
<PageTitle>SGE | Login</PageTitle>
<h3>Login</h3>

<input placeholder="Email" @bind="email" /><br>
<input placeholder="Contraseña" @bind="pass" /><br>
<button @onclick="Iniciar">Iniciar</button>

@Error

@code {
    Usuario user = new();
    string email = "";
    string pass = "";
    
    string Error = "";

    public void Iniciar()
    {
        try 
        {
            user = CasoLogin.Ejecutar(email, pass);
            Navigation.NavigateTo($"/home/{user.Id}");
        }
        catch (Exception ex)
        {
            Error = ex.Message;
        }
    }

}
